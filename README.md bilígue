

```markdown
# ğŸš€ TP4 â€“ Projeto de Bloco (2025)

## ğŸ‡§ğŸ‡· PortuguÃªs

### ğŸ“Œ DescriÃ§Ã£o
Este projeto foi desenvolvido como parte do **TP4 â€“ Projeto de Bloco (2025)**.  
O objetivo Ã© manipular dados em um banco de dados **PostgreSQL** utilizando **Python** e **SQLAlchemy**, realizando operaÃ§Ãµes de:

- ğŸ”„ **UPSERT** â†’ InserÃ§Ã£o/AtualizaÃ§Ã£o em lote  
- âŒ **DeleÃ§Ã£o massiva** â†’ RemoÃ§Ã£o de registros em lote  

Tudo a partir de arquivos **JSON** orientados a registros.

---

### ğŸ¯ OrientaÃ§Ãµes do TP4
1ï¸âƒ£ Criar um arquivo JSON para carga massiva (inserÃ§Ã£o/atualizaÃ§Ã£o).  
2ï¸âƒ£ Criar um arquivo JSON para deleÃ§Ã£o massiva.  
3ï¸âƒ£ Implementar cÃ³digo em Python com SQLAlchemy para UPSERT.  
4ï¸âƒ£ Validar inserÃ§Ã£o/atualizaÃ§Ã£o no banco.  
5ï¸âƒ£ Repetir o processo para deleÃ§Ã£o massiva.  
6ï¸âƒ£ Validar a deleÃ§Ã£o no banco.  

---

### âš™ï¸ Estrutura do Projeto
ğŸ“‚ **Arquivos principais:**
- `alunos.json` â†’ registros para inserÃ§Ã£o/atualizaÃ§Ã£o  
- `alunos_deletar.json` â†’ registros para deleÃ§Ã£o  
- `db_conect.py` â†’ conexÃ£o ao banco + funÃ§Ãµes (`upsert_aluno`, `delete_alunos`)  
- `main.py` â†’ script principal que chama as funÃ§Ãµes  

---

### ğŸš€ Como Executar
```bash
# Executar o script principal
python3 main.py
```

---

### ğŸ“‚ Exemplo de JSON
**InserÃ§Ã£o/AtualizaÃ§Ã£o (`alunos.json`):**
```json
[
  { "cpf": "11111111111", "nome": "Ana Silva", "datanascimento": "2001-05-10" },
  { "cpf": "22222222222", "nome": "Carlos Souza", "datanascimento": "1999-12-01" }
]
```

**DeleÃ§Ã£o (`alunos_deletar.json`):**
```json
[
  { "cpf": "11111111111" },
  { "cpf": "22222222222" }
]
```

---

### ğŸ”„ Fluxo do Projeto
```
ğŸ“„ alunos.json â”€â”€â–¶ ğŸ“Š Pandas DataFrame â”€â”€â–¶ ğŸ”„ upsert_aluno() â”€â”€â–¶ ğŸ—„ï¸ PostgreSQL (academic.aluno)

ğŸ“„ alunos_deletar.json â”€â”€â–¶ ğŸ“Š Pandas DataFrame â”€â”€â–¶ âŒ delete_alunos() â”€â”€â–¶ ğŸ—„ï¸ PostgreSQL (academic.aluno)
```

---

### ğŸ“œ Exemplo de Log de ExecuÃ§Ã£o
```bash
weslleysoares@Mac TP4-PROJETO-BLOCO % python3 main.py
conexÃ£o bem sucedida.
UPSERT CONCLUIDO COM SUCESSO !
Registros deletados: 2
Deletado com Sucesso
```

---

## ğŸ‡ºğŸ‡¸ English

### ğŸ“Œ Description
This project was developed as part of **TP4 â€“ Block Project (2025)**.  
The goal is to manipulate data in a **PostgreSQL** database using **Python** and **SQLAlchemy**, performing:

- ğŸ”„ **UPSERT** â†’ Bulk insert/update  
- âŒ **Mass deletion** â†’ Bulk removal of records  

All operations are based on **record-oriented JSON files**.

---

### ğŸ¯ TP4 Guidelines
1ï¸âƒ£ Create a JSON file for bulk insert/update.  
2ï¸âƒ£ Create a JSON file for bulk deletion.  
3ï¸âƒ£ Implement Python code with SQLAlchemy for UPSERT.  
4ï¸âƒ£ Validate insert/update in the database.  
5ï¸âƒ£ Repeat the process for mass deletion.  
6ï¸âƒ£ Validate deletion in the database.  

---

### âš™ï¸ Project Structure
ğŸ“‚ **Main files:**
- `alunos.json` â†’ records for insert/update  
- `alunos_deletar.json` â†’ records for deletion  
- `db_conect.py` â†’ database connection + functions (`upsert_aluno`, `delete_alunos`)  
- `main.py` â†’ main script that calls the functions  

---

### ğŸš€ How to Run
```bash
# Run the main script
python3 main.py
```

---

### ğŸ“‚ JSON Example
**Insert/Update (`alunos.json`):**
```json
[
  { "cpf": "11111111111", "nome": "Ana Silva", "datanascimento": "2001-05-10" },
  { "cpf": "22222222222", "nome": "Carlos Souza", "datanascimento": "1999-12-01" }
]
```

**Deletion (`alunos_deletar.json`):**
```json
[
  { "cpf": "11111111111" },
  { "cpf": "22222222222" }
]
```

---

### ğŸ”„ Project Flow
```
ğŸ“„ alunos.json â”€â”€â–¶ ğŸ“Š Pandas DataFrame â”€â”€â–¶ ğŸ”„ upsert_aluno() â”€â”€â–¶ ğŸ—„ï¸ PostgreSQL (academic.aluno)

ğŸ“„ alunos_deletar.json â”€â”€â–¶ ğŸ“Š Pandas DataFrame â”€â”€â–¶ âŒ delete_alunos() â”€â”€â–¶ ğŸ—„ï¸ PostgreSQL (academic.aluno)
```

---

### ğŸ“œ Example Python Execution Log
```bash
weslleysoares@Mac TP4-PROJETO-BLOCO % python3 main.py
connection successful.
UPSERT COMPLETED SUCCESSFULLY!
Deleted records: 2
Deletion Successful
```
```

---
